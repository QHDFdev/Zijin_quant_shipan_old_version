Date.prototype.format=function(fmt){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(fmt)){fmt=fmt.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in o){if(new RegExp("("+k+")").test(fmt)){fmt=fmt.replace(RegExp.$1,(RegExp.$1.length==1)?(o[k]):(("00"+o[k]).substr((""+o[k]).length)))}}return fmt};var now=Date.parse(new Date().format("yyyy-MM-dd").replace("-","/"));var alldate=[];function loadtime(data){alldate=data}var startMinDate=function(){return alldate[0]};var startMaxDate=function(){var etime=$("#endTime")[0].value;if(etime==""||etime==undefined){etime=alldate[alldate.length-1]}return etime};var endMinDate=function(){var stime=$("#startTime")[0].value;if(stime==""||stime==undefined){stime=alldate[0]}return stime};var endMaxDate=function(){return alldate[alldate.length-1]};function getDate(datestr){var temp=datestr.split("-");var date=new Date(temp[0],temp[1],temp[2]);return date}function dataScope(value1,value2){var getDate=function(str){var tempDate=new Date();var list=str.split("-");tempDate.setFullYear(list[0]);tempDate.setMonth(list[1]-1);tempDate.setDate(list[2]);return tempDate};var date1=getDate(value1);var date2=getDate(value2);if(date1>date2){var tempDate=date1;date1=date2;date2=tempDate}date1.setDate(date1.getDate()+1);var dateArr=[];var i=0;if(value1==value2){dateArr[0]=value1;return dateArr}while(!(date1.getFullYear()==date2.getFullYear()&&date1.getMonth()==date2.getMonth()&&date1.getDate()==date2.getDate())){var dayStr=date1.getDate().toString();if(dayStr.length==1){dayStr="0"+dayStr}dateArr[i]=date1.getFullYear()+"-"+(date1.getMonth()+1)+"-"+dayStr;i++;date1.setDate(date1.getDate()+1)}return dateArr}var delDate=function(){var del=[];var all=[];all=dataScope(alldate[0],alldate[alldate.length-1]);for(var i=0;i<all.length;i++){if(alldate.indexOf(all[i])==-1){del.push(all[i])}}return del};